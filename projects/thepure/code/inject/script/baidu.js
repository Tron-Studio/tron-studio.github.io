// title
title = (chrome.i18n.getUILanguage()=="zh_CN") ? ("百度") : ("Baidu")
kw = document.getElementById("kw")
word = kw.value;
t = 0;
kw.oninput = () => {
    keyword = (kw.value != "") ? (": " + kw.value) : "";
    document.title = " 🖌 " + title + keyword + " ";
};kw.oninput();
setInterval(() => {
    if (kw.value != word) {
        kw.oninput();
        if (t == 5) {
            t = 0;
            word = kw.value;
        } else t++;
    }
}, 100);
// mask
var mask = document.createElement("div");
mask.innerHTML =
    '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 371.01203 406">' +
    '<path fill="none" stroke="#1565c0" stroke-width="5"' +
    'd="M360.94,313.5c-16.95-15-37.54-32.25-66.6-73.5-18.65-26.47-35.12-40-59.34-40-26.64,0-41.17,12.5-55.52,32.79-21,29.71-29.25,39.71-50.88,56.75-7.86,6.19-48.61,31.72-48.6,76.71.01,52.5,37.53,73.75,71.55,73.75,44.69,0,54.39-10,83.45-10,36.33,0,55.7,10,84.76,10,58.13,0,70.24-43.75,70.24-71.28C390,342.5,377.89,328.5,360.94,313.5ZM113.89,248.85c31.24-6.94,36.16-37.39,36.11-57.32a143.40019,143.40019,0,0,0-.96-15.58c-1.98-16.78-20.27-45.5-45.51-45.94a34.534,34.534,0,0,0-3.65.13c-34.12,3.14-39.11,54.12-39.11,54.12a47.97473,47.97473,0,0,0-.78,9.63c.31,22.63,13.56,55.27,42.74,56.1a45.74525,45.74525,0,0,0,11.16-1.14M195.03,160C219.9,160,240,133.15,240,99.98S219.9,40,195.03,40C170.15,40,150,66.81,150,99.98S170.15,160,195.03,160m100.19,9.64a36.33184,36.33184,0,0,0,6.45.33c26.96-1.03,44.16-32.76,47.81-57.23a45.84062,45.84062,0,0,0,.52-7.33c-.15-24.41-18.31-50.12-37.99-54.9-21.77-5.32-48.93,31.73-51.38,55.9-.37,3.7-.59,7.39-.63,11.03-.25,25.52,8.41,48.55,35.22,52.2m124.62,41.78c0-12.81-10.04-51.42-47.42-51.42C334.96,160,330,196.44,330,222.19c0,24.1,1.87,57.52,45.78,57.81.87.01,1.76,0,2.67-.02,40.27-.94,41.83-42.03,41.52-61.38-.04-2.99-.13-5.45-.13-7.18" transform="translate(-59.48601 -39.5)" />' +
    '<path fill="none" stroke="#1565c0" stroke-width="5"' +
    'd="M244,310a4,4,0,0,0-4,4v71s0,18.51584,25.7598,24.88109a4.14713,4.14713,0,0,0,.9885.11891H326a4,4,0,0,0,4-4V314a4,4,0,0,0-4-4H307.75a4,4,0,0,0-4,4v67a4,4,0,0,1-4,4h-23.5s-8.75-1.25-10-7.5V314a4,4,0,0,0-4-4Zm-44-36v36H170c-21.25,3.75-40,22.5-39.99,48.75,0,.42-.01.83-.01,1.25,0,27.5,18.75,46.25,40,50h52.25a4,4,0,0,0,4-4V274a4,4,0,0,0-4-4H204A4,4,0,0,0,200,274Zm0,109.5a4,4,0,0,1-4,4H176.25c-7.5,0-20-11.25-20-27.5s12.5-27.5,20-27.5H196a4,4,0,0,1,4,4Z" transform="translate(-59.48601 -39.5)" />' +
    '</svg >' +
    '<div class="title">' +
    '按任意键以开始搜索' +// TODO i18n
    '</div>'
mask.classList.add("baidu-mask");
BodyInterval = setInterval(()=>{
    body = document.getElementsByTagName("body")[0];
    if (body) {
        clearInterval(BodyInterval); 
        body.appendChild(mask);
    }
},100)

